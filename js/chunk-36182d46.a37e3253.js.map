{"version":3,"sources":["webpack:///./src/views/myprofile.vue?7169","webpack:///./src/views/myprofile.vue?2ed3","webpack:///src/views/myprofile.vue","webpack:///./src/views/myprofile.vue?400f","webpack:///./src/views/myprofile.vue?bca3"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","userInfos","isBanned","_v","_e","profilePicture","loading","role","scopedSlots","_u","key","fn","ref","on","_g","_b","_s","username","userReviews","length","$t","user","$event","removePrivileges","addRole","banUser","_l","review","id","author","selectedReview","restricted","editReview","cancelEdit","deleteReview","model","value","callback","$$v","reviewDeleted","expression","navigateToMovie","movieId","movieName","rating","$set","class","description","sendEditedReview","reviewEditedSuccess","staticRenderFns","components","ReviewPlaceholder","data","methods","router","watch","document","title","$bind","created","component","VAlert","VBtn","VCard","VCardActions","VCardText","VCardTitle","VChip","VCol","VIcon","VImg","VRating","VRow","VSnackbar","VTextarea","VTooltip"],"mappings":"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","file":"js/chunk-36182d46.a37e3253.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./myprofile.vue?vue&type=style&index=0&id=16c7835a&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./myprofile.vue?vue&type=style&index=0&id=16c7835a&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"compressedWrapper\"},[_c('v-row',[_c('v-col',{staticClass:\"p-relative\",attrs:{\"cols\":\"5\",\"sm\":\"auto\"}},[(_vm.userInfos && _vm.userInfos.isBanned)?_c('div',{staticClass:\"bannedBadge rounded-xl error\"},[_c('v-icon',{attrs:{\"dark\":\"\",\"size\":\"60\"}},[_vm._v(\"mdi-gavel\")])],1):_vm._e(),(_vm.loading)?_c('span',{staticClass:\"placeholder placeholder__profilepicture\"}):_c('v-img',{staticClass:\"rounded-circle\",attrs:{\"src\":_vm.userInfos && _vm.userInfos.profilePicture}}),(!_vm.loading && _vm.userInfos && !_vm.userInfos.profilePicture)?_c('v-img',{staticClass:\"rounded-circle\",attrs:{\"src\":(\"https://identicon-api.herokuapp.com/\" + (_vm.userInfos.username) + \"/128?format=png\"),\"alt\":\"\"}}):_vm._e(),(_vm.userInfos && _vm.userInfos.role && _vm.userInfos.role == 'superadmin')?_c('v-tooltip',{attrs:{\"right\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-icon',_vm._g(_vm._b({staticClass:\"p-absolute user-badge\",attrs:{\"size\":\"40\",\"dark\":\"\"}},'v-icon',attrs,false),on),[_vm._v(\" mdi-alpha-s-circle \")])]}}],null,false,4281965305)},[_c('span',[_vm._v(_vm._s(_vm.userInfos.role))])]):_vm._e(),(_vm.userInfos && _vm.userInfos.role && _vm.userInfos.role == 'admin')?_c('v-tooltip',{attrs:{\"right\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-icon',_vm._g(_vm._b({staticClass:\"p-absolute user-badge\",attrs:{\"size\":\"40\",\"dark\":\"\"}},'v-icon',attrs,false),on),[_vm._v(\" mdi-alpha-a-circle \")])]}}],null,false,3936721771)},[_c('span',[_vm._v(_vm._s(_vm.userInfos.role))])]):_vm._e(),(_vm.userInfos && _vm.userInfos.role && _vm.userInfos.role == 'moderator')?_c('v-tooltip',{attrs:{\"right\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-icon',_vm._g(_vm._b({staticClass:\"p-absolute user-badge\",attrs:{\"size\":\"40\",\"dark\":\"\"}},'v-icon',attrs,false),on),[_vm._v(\" mdi-alpha-m-circle \")])]}}],null,false,1953218663)},[_c('span',[_vm._v(_vm._s(_vm.userInfos.role))])]):_vm._e()],1),_c('v-col',{attrs:{\"cols\":\"7\",\"sm\":\"auto\"}},[_c('div',{staticClass:\"d-flex flex-column\"},[(_vm.loading)?_c('h1',{staticClass:\"placeholder placeholder__name mb-2\"}):_vm._e(),(!_vm.loading && _vm.userInfos)?_c('h1',[_vm._v(_vm._s(_vm.userInfos.username))]):_vm._e(),(_vm.loading)?_c('span',{staticClass:\"placeholder placeholder__rating\"}):_c('p',{staticClass:\"mb-0\"},[_vm._v(\" \"+_vm._s(_vm.userReviews.length + \" \" + _vm.$t(\"writtenreviews\"))+\" \")]),(\n            _vm.user &&\n            _vm.userInfos &&\n            _vm.user.role == 'superadmin' &&\n            _vm.userInfos.username !== _vm.user.username &&\n            !_vm.userInfos.isBanned\n          )?_c('div',{staticClass:\"mt-2\"},[(\n              (_vm.userInfos && _vm.userInfos.role == 'admin') ||\n              _vm.userInfos.role == 'moderator'\n            )?_c('v-btn',{attrs:{\"small\":\"\",\"color\":\"error\",\"tile\":\"\",\"text\":\"\"},on:{\"click\":function($event){return _vm.removePrivileges()}}},[_c('v-icon',{staticClass:\"mr-2\",attrs:{\"size\":\"18\"}},[_vm._v(\"mdi-account-minus\")]),_vm._v(\" \"+_vm._s(_vm.$t('removeprivileges'))+\" \")],1):_vm._e(),(\n              !(_vm.userInfos.role == 'moderator' || _vm.userInfos.role == 'admin')\n            )?_c('v-btn',{attrs:{\"small\":\"\",\"dark\":\"\",\"tile\":\"\",\"text\":\"\"},on:{\"click\":function($event){return _vm.addRole('moderator')}}},[_c('v-icon',{staticClass:\"mr-2\",attrs:{\"size\":\"18\"}},[_vm._v(\"mdi-alpha-m\")]),_vm._v(\" \"+_vm._s(_vm.$t('addmoderatorrole'))+\" \")],1):_vm._e(),(\n              !(_vm.userInfos.role == 'moderator' || _vm.userInfos.role == 'admin')\n            )?_c('v-btn',{attrs:{\"small\":\"\",\"dark\":\"\",\"tile\":\"\",\"text\":\"\"},on:{\"click\":function($event){return _vm.addRole('admin')}}},[_c('v-icon',{staticClass:\"mr-2\",attrs:{\"size\":\"18\"}},[_vm._v(\"mdi-alpha-a\")]),_vm._v(\" \"+_vm._s(_vm.$t('addadminrole'))+\" \")],1):_vm._e(),_c('v-btn',{attrs:{\"small\":\"\",\"color\":\"error\",\"tile\":\"\",\"text\":\"\"},on:{\"click\":function($event){return _vm.banUser()}}},[_c('v-icon',{staticClass:\"mr-2\",attrs:{\"size\":\"18\"}},[_vm._v(\"mdi-gavel\")]),_vm._v(\" \"+_vm._s(_vm.$t(\"banuser\"))+\" \")],1)],1):_vm._e()])])],1),_c('v-row',{staticClass:\"mt-10\"},[(_vm.loading)?_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('ReviewPlaceholder')],1):_vm._l((_vm.userReviews),function(review){return _c('v-col',{key:review.id,attrs:{\"cols\":\"12\"}},[_c('v-card',{staticClass:\"grey darken-3 review\",attrs:{\"dark\":\"\"}},[(review.restricted)?_c('v-alert',{staticClass:\"ma-0\",attrs:{\"type\":\"error\",\"icon\":\"mdi-alert-octagon\",\"outlined\":\"\",\"dense\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.$t(\"thisreviewhasbeenrestricted\"))+\" \")]):_vm._e(),(_vm.user && review.author === _vm.user.username)?_c('div',{staticClass:\"px-4 pt-2\"},[(_vm.selectedReview.id != review.id && !review.restricted)?_c('v-chip',{staticClass:\"mr-2\",attrs:{\"color\":\"indigo\",\"small\":\"\"},on:{\"click\":function($event){return _vm.editReview(review)}}},[_c('v-icon',{attrs:{\"left\":\"\",\"size\":\"15\"}},[_vm._v(\"mdi-pencil\")]),_vm._v(\" \"+_vm._s(_vm.$t(\"edit\"))+\" \")],1):_vm._e(),(_vm.selectedReview.id == review.id)?_c('v-chip',{staticClass:\"mr-2\",attrs:{\"color\":\"indigo\",\"small\":\"\"},on:{\"click\":function($event){return _vm.cancelEdit()}}},[_c('v-icon',{attrs:{\"left\":\"\",\"size\":\"15\"}},[_vm._v(\"mdi-pencil-off\")]),_vm._v(\" \"+_vm._s(_vm.$t(\"cancel\"))+\" \")],1):_vm._e(),_c('v-chip',{staticClass:\"mr-2\",attrs:{\"color\":\"indigo\",\"small\":\"\"},on:{\"click\":function($event){return _vm.deleteReview(review.id)}}},[_c('v-icon',{attrs:{\"left\":\"\",\"size\":\"15\"}},[_vm._v(\"mdi-delete\")]),_vm._v(\" \"+_vm._s(_vm.$t(\"delete\"))+\" \")],1),_c('v-snackbar',{attrs:{\"color\":\"success\",\"outlined\":\"\",\"right\":\"\",\"timeout\":\"2000\",\"bottom\":\"\"},model:{value:(_vm.reviewDeleted),callback:function ($$v) {_vm.reviewDeleted=$$v},expression:\"reviewDeleted\"}},[_vm._v(\" \"+_vm._s(_vm.$t(\"reviewdeleted\"))+\" \")])],1):_vm._e(),_c('v-card-title',{staticClass:\"pb-0 pointer\",on:{\"click\":function($event){return _vm.navigateToMovie(review.movieId)}}},[_vm._v(_vm._s(review.movieName))]),(review.rating && _vm.selectedReview.id == review.id)?_c('v-rating',{staticClass:\"px-4\",attrs:{\"background-color\":\"grey\",\"color\":\"yellow\",\"length\":\"5\",\"small\":\"\",\"dense\":\"\"},model:{value:(_vm.selectedReview.rating),callback:function ($$v) {_vm.$set(_vm.selectedReview, \"rating\", $$v)},expression:\"selectedReview.rating\"}}):_c('v-rating',{staticClass:\"px-4\",attrs:{\"background-color\":\"grey\",\"color\":\"yellow\",\"length\":\"5\",\"readonly\":\"\",\"value\":review.rating,\"small\":\"\",\"dense\":\"\"}}),(_vm.selectedReview.id == review.id)?_c('v-card-text',[_c('v-textarea',{attrs:{\"solo\":\"\",\"background-color\":\"grey darken-4\",\"hide-details\":\"auto\"},model:{value:(_vm.selectedReview.description),callback:function ($$v) {_vm.$set(_vm.selectedReview, \"description\", $$v)},expression:\"selectedReview.description\"}})],1):_c('v-card-text',[_c('p',{class:{ restricted: review.restricted }},[_vm._v(\" \"+_vm._s(review.description)+\" \")])]),(_vm.selectedReview.id == review.id)?_c('v-card-actions',{staticClass:\"px-4 pb-3\"},[_c('v-btn',{staticClass:\"mr-2\",attrs:{\"small\":\"\",\"color\":\"indigo\"},on:{\"click\":function($event){return _vm.sendEditedReview()}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"save\"))+\" \")])],1):_vm._e()],1)],1)})],2),_c('v-snackbar',{attrs:{\"color\":\"success\",\"timeout\":\"2000\",\"dark\":\"\",\"outlined\":\"\",\"right\":\"\",\"bottom\":\"\"},model:{value:(_vm.reviewEditedSuccess),callback:function ($$v) {_vm.reviewEditedSuccess=$$v},expression:\"reviewEditedSuccess\"}},[_vm._v(\" \"+_vm._s(_vm.$t(\"reviewedited\"))+\" \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"compressedWrapper\">\n    <v-row>\n      <v-col cols=\"5\" sm=\"auto\" class=\"p-relative\">\n        <div\n          class=\"bannedBadge rounded-xl error\"\n          v-if=\"userInfos && userInfos.isBanned\"\n        >\n          <v-icon dark size=\"60\">mdi-gavel</v-icon>\n        </div>\n        <span\n          class=\"placeholder placeholder__profilepicture\"\n          v-if=\"loading\"\n        ></span>\n        <v-img\n          :src=\"userInfos && userInfos.profilePicture\"\n          class=\"rounded-circle\"\n          v-else\n        ></v-img>\n        <v-img\n          :src=\"`https://identicon-api.herokuapp.com/${userInfos.username}/128?format=png`\"\n          alt=\"\"\n          class=\"rounded-circle\"\n          v-if=\"!loading && userInfos && !userInfos.profilePicture\"\n        />\n        <v-tooltip\n          right\n          v-if=\"userInfos && userInfos.role && userInfos.role == 'superadmin'\"\n        >\n          <template v-slot:activator=\"{ on, attrs }\">\n            <v-icon\n              size=\"40\"\n              dark\n              v-bind=\"attrs\"\n              v-on=\"on\"\n              class=\"p-absolute user-badge\"\n            >\n              mdi-alpha-s-circle\n            </v-icon>\n          </template>\n          <span>{{ userInfos.role }}</span>\n        </v-tooltip>\n        <v-tooltip\n          right\n          v-if=\"userInfos && userInfos.role && userInfos.role == 'admin'\"\n        >\n          <template v-slot:activator=\"{ on, attrs }\">\n            <v-icon\n              size=\"40\"\n              dark\n              v-bind=\"attrs\"\n              v-on=\"on\"\n              class=\"p-absolute user-badge\"\n            >\n              mdi-alpha-a-circle\n            </v-icon>\n          </template>\n          <span>{{ userInfos.role }}</span>\n        </v-tooltip>\n        <v-tooltip\n          right\n          v-if=\"userInfos && userInfos.role && userInfos.role == 'moderator'\"\n        >\n          <template v-slot:activator=\"{ on, attrs }\">\n            <v-icon\n              size=\"40\"\n              dark\n              v-bind=\"attrs\"\n              v-on=\"on\"\n              class=\"p-absolute user-badge\"\n            >\n              mdi-alpha-m-circle\n            </v-icon>\n          </template>\n          <span>{{ userInfos.role }}</span>\n        </v-tooltip>\n      </v-col>\n      <v-col cols=\"7\" sm=\"auto\">\n        <div class=\"d-flex flex-column\">\n          <h1 class=\"placeholder placeholder__name mb-2\" v-if=\"loading\"></h1>\n          <h1 v-if=\"!loading && userInfos\">{{ userInfos.username }}</h1>\n          <span class=\"placeholder placeholder__rating\" v-if=\"loading\"></span>\n          <p class=\"mb-0\" v-else>\n            {{ userReviews.length + \" \" + $t(\"writtenreviews\") }}\n          </p>\n          <div\n            class=\"mt-2\"\n            v-if=\"\n              user &&\n              userInfos &&\n              user.role == 'superadmin' &&\n              userInfos.username !== user.username &&\n              !userInfos.isBanned\n            \"\n          >\n            <v-btn\n              small\n              color=\"error\"\n              tile\n              text\n              v-if=\"\n                (userInfos && userInfos.role == 'admin') ||\n                userInfos.role == 'moderator'\n              \"\n              @click=\"removePrivileges()\"\n            >\n              <v-icon size=\"18\" class=\"mr-2\">mdi-account-minus</v-icon>\n              {{$t('removeprivileges')}}\n            </v-btn>\n            <v-btn\n              small\n              dark\n              tile\n              text\n              @click=\"addRole('moderator')\"\n              v-if=\"\n                !(userInfos.role == 'moderator' || userInfos.role == 'admin')\n              \"\n            >\n              <v-icon size=\"18\" class=\"mr-2\">mdi-alpha-m</v-icon>\n              {{$t('addmoderatorrole')}}\n            </v-btn>\n            <v-btn\n              small\n              dark\n              tile\n              text\n              @click=\"addRole('admin')\"\n              v-if=\"\n                !(userInfos.role == 'moderator' || userInfos.role == 'admin')\n              \"\n            >\n              <v-icon size=\"18\" class=\"mr-2\">mdi-alpha-a</v-icon>\n              {{$t('addadminrole')}}\n            </v-btn>\n            <v-btn small color=\"error\" tile text @click=\"banUser()\">\n              <v-icon size=\"18\" class=\"mr-2\">mdi-gavel</v-icon>\n              {{ $t(\"banuser\") }}\n            </v-btn>\n          </div>\n        </div>\n      </v-col>\n    </v-row>\n    <v-row class=\"mt-10\">\n      <v-col cols=\"12\" v-if=\"loading\">\n        <ReviewPlaceholder />\n      </v-col>\n      <v-col cols=\"12\" v-for=\"review in userReviews\" :key=\"review.id\" v-else>\n        <v-card class=\"grey darken-3 review\" dark>\n          <v-alert\n            type=\"error\"\n            icon=\"mdi-alert-octagon\"\n            class=\"ma-0\"\n            outlined\n            dense\n            v-if=\"review.restricted\"\n          >\n            {{ $t(\"thisreviewhasbeenrestricted\") }}\n          </v-alert>\n\n          <div class=\"px-4 pt-2\" v-if=\"user && review.author === user.username\">\n            <v-chip\n              v-if=\"selectedReview.id != review.id && !review.restricted\"\n              @click=\"editReview(review)\"\n              color=\"indigo\"\n              class=\"mr-2\"\n              small\n            >\n              <v-icon left size=\"15\">mdi-pencil</v-icon>\n              {{ $t(\"edit\") }}\n            </v-chip>\n            <v-chip\n              v-if=\"selectedReview.id == review.id\"\n              @click=\"cancelEdit()\"\n              color=\"indigo\"\n              class=\"mr-2\"\n              small\n            >\n              <v-icon left size=\"15\">mdi-pencil-off</v-icon>\n              {{ $t(\"cancel\") }}\n            </v-chip>\n            <v-chip\n              @click=\"deleteReview(review.id)\"\n              color=\"indigo\"\n              class=\"mr-2\"\n              small\n            >\n              <v-icon left size=\"15\">mdi-delete</v-icon>\n              {{ $t(\"delete\") }}\n            </v-chip>\n            <v-snackbar\n              v-model=\"reviewDeleted\"\n              color=\"success\"\n              outlined\n              right\n              timeout=\"2000\"\n              bottom\n            >\n              {{ $t(\"reviewdeleted\") }}\n            </v-snackbar>\n          </div>\n\n          <v-card-title\n            class=\"pb-0 pointer\"\n            @click=\"navigateToMovie(review.movieId)\"\n            >{{ review.movieName }}</v-card-title\n          >\n          <v-rating\n            background-color=\"grey\"\n            color=\"yellow\"\n            class=\"px-4\"\n            length=\"5\"\n            v-if=\"review.rating && selectedReview.id == review.id\"\n            v-model=\"selectedReview.rating\"\n            small\n            dense\n          ></v-rating>\n          <v-rating\n            v-else\n            background-color=\"grey\"\n            color=\"yellow\"\n            class=\"px-4\"\n            length=\"5\"\n            readonly\n            :value=\"review.rating\"\n            small\n            dense\n          ></v-rating>\n          <v-card-text v-if=\"selectedReview.id == review.id\">\n            <v-textarea\n              v-model=\"selectedReview.description\"\n              solo\n              background-color=\"grey darken-4\"\n              hide-details=\"auto\"\n            ></v-textarea>\n          </v-card-text>\n          <v-card-text v-else>\n            <p :class=\"{ restricted: review.restricted }\">\n              {{ review.description }}\n            </p>\n          </v-card-text>\n          <v-card-actions\n            class=\"px-4 pb-3\"\n            v-if=\"selectedReview.id == review.id\"\n          >\n            <v-btn\n              small\n              @click=\"sendEditedReview()\"\n              color=\"indigo\"\n              class=\"mr-2\"\n            >\n              {{ $t(\"save\") }}\n            </v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-col>\n    </v-row>\n    <v-snackbar\n      v-model=\"reviewEditedSuccess\"\n      color=\"success\"\n      timeout=\"2000\"\n      dark\n      outlined\n      right\n      bottom\n    >\n      {{ $t(\"reviewedited\") }}\n    </v-snackbar>\n  </div>\n</template>\n\n<script>\nimport ReviewPlaceholder from \"../components/placeholders/ReviewPlaceholder\";\nimport { router, titleEnd } from \"../router/index\";\nimport { db } from \"../firebase\";\n\nexport default {\n  components: {\n    ReviewPlaceholder,\n  },\n\n  data() {\n    return {\n      loading: true,\n\n      // public infos\n      userInfos: {},\n      userReviews: [],\n\n      // manage reviews\n      reviewDeleted: false,\n      selectedReview: {\n        id: \"\",\n        description: \"\",\n        rating: null,\n      },\n      reviewEditedSuccess: false,\n    };\n  },\n\n  methods: {\n    async banUser() {\n      let userId = this.$route.params.userId;\n      let oldUsername = this.userInfos.username;\n\n      try {\n        await db\n          .collection(\"users\")\n          .doc(userId)\n          .update({\n            username: `[banned] ${oldUsername}`,\n            role: \"user\",\n            isBanned: true,\n          });\n      } catch (error) {\n        console.error(error);\n      }\n    },\n\n    async addRole(role) {\n      let userId = this.$route.params.userId;\n\n      try {\n        await db.collection(\"users\").doc(userId).update({\n          role: role,\n        });\n      } catch (error) {\n        console.error(error);\n      }\n    },\n\n    async removePrivileges() {\n      let userId = this.$route.params.userId;\n\n      try {\n        await db.collection(\"users\").doc(userId).update({\n          role: \"user\",\n        });\n      } catch (error) {\n        console.error(error);\n      }\n    },\n\n    navigateToMovie(id) {\n      router.push({ name: \"movie-detail\", params: { movieId: id } });\n    },\n\n    async deleteReview(id) {\n      try {\n        await db.collection(\"reviews\").doc(id).delete();\n        this.reviewDeleted = true;\n        setTimeout(() => {\n          this.reviewDeleted = false;\n        }, 2000);\n      } catch (err) {\n        console.error(err);\n      }\n    },\n\n    editReview(review) {\n      this.selectedReview.id = review.id;\n      this.selectedReview.description = review.description;\n      this.selectedReview.rating = review.rating;\n    },\n\n    cancelEdit() {\n      this.selectedReview.id = null;\n      this.selectedReview.description = null;\n      this.selectedReview.rating = null;\n    },\n\n    async sendEditedReview() {\n      try {\n        let editedReview = this.selectedReview;\n\n        await db.collection(\"reviews\").doc(editedReview.id).update({\n          rating: editedReview.rating,\n          description: editedReview.description,\n          edited: new Date(),\n        });\n\n        this.reviewEditedSuccess = true;\n        setTimeout(() => {\n          this.reviewEditedSuccess = false;\n        }, 2000);\n        this.cancelEdit();\n      } catch (error) {\n        console.error(error);\n      }\n    },\n  },\n\n  watch: {\n    userInfos: function (userInfos) {\n      if (userInfos) {\n        document.title = userInfos.username + titleEnd;\n      }\n    },\n\n    \"$route.params.userId\": function (userId) {\n      this.loading = true;\n      this.$bind(\"userInfos\", db.collection(\"users\").doc(userId));\n      this.$bind(\n        \"userReviews\",\n        db\n          .collection(\"reviews\")\n          .where(\"userId\", \"==\", userId)\n          .orderBy(\"date\", \"desc\")\n      ).then(() => {\n        this.loading = false;\n      });\n    },\n  },\n\n  created() {\n    let userId = this.$route.params.userId;\n\n    this.$bind(\"userInfos\", db.collection(\"users\").doc(userId));\n    this.$bind(\n      \"userReviews\",\n      db\n        .collection(\"reviews\")\n        .where(\"userId\", \"==\", userId)\n        .orderBy(\"date\", \"desc\")\n    ).then(() => {\n      this.loading = false;\n    });\n  },\n};\n</script>\n\n<style scoped>\n.review {\n  margin-bottom: 20px;\n}\n\n.review:last-of-type {\n  margin-bottom: 0;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./myprofile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./myprofile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./myprofile.vue?vue&type=template&id=16c7835a&scoped=true&\"\nimport script from \"./myprofile.vue?vue&type=script&lang=js&\"\nexport * from \"./myprofile.vue?vue&type=script&lang=js&\"\nimport style0 from \"./myprofile.vue?vue&type=style&index=0&id=16c7835a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"16c7835a\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VRating } from 'vuetify/lib/components/VRating';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VAlert,VBtn,VCard,VCardActions,VCardText,VCardTitle,VChip,VCol,VIcon,VImg,VRating,VRow,VSnackbar,VTextarea,VTooltip})\n"],"sourceRoot":""}